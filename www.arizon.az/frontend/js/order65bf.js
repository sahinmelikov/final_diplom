$(function(){const form=$('form#order-register-form');const form_update=$('form#order-update-form');const form_cancel=$('form.order-cancel-form');form.submit(function(){var this_form=$(this),ids=[],items=$('.form-check-input.item:checked');items.each(function(i,v){ids.push(parseInt(items.eq(i).val()));});this_form.ajaxSubmit({beforeSubmit:function(arr,$form,options){arr.push({name:'selected_ids',value:ids});arr.push({name:'phone_code',value:this_form.find('input[name="phone_code"]').val()});},success:function(response){if(response.status==='success'||response.status==='redirect'){window.location.href=response.url;}else{this_form.find('input').parent('div').removeClass('error');this_form.find('textarea').parent('div').removeClass('error');this_form.find('.error-span-text').remove();$.each(response.errcode,function(v,m){this_form.find('input[name="'+v+'"]').parent('div').addClass('error');this_form.find('input[name="'+v+'"]').parent('div').append('<div class="error-span-text '+v+'"></div>');this_form.find('textarea[name="'+v+'"]').parent('div').addClass('error');this_form.find('textarea[name="'+v+'"]').parent('div').append('<div class="error-span-text '+v+'"></div>');for(let j=0;j<m.length;j++){this_form.find('.error-span-text.'+v).append('<span class="text-danger">'+m[j]+'</span><br/>');}});}}});return false;});form_update.submit(function(){var this_form=$(this);this_form.ajaxSubmit({beforeSubmit:function(arr,$form,options){arr.push({name:'phone_code',value:this_form.find('input[name="phone_code"]').val()});},success:function(response){if(response.status==='success'){window.location.href=response.url;}else{this_form.find('input').parent('div').removeClass('error');this_form.find('.error-span-text').remove();$.each(response.errcode,function(v,m){this_form.find('input[name="'+v+'"]').parent('div').addClass('error');this_form.find('input[name="'+v+'"]').parent('div').append('<div class="error-span-text '+v+'"></div>')
for(let j=0;j<m.length;j++){this_form.find('.error-span-text.'+v).append('<span class="text-danger">'+m[j]+'</span><br/>');}});}}});return false;});form_cancel.submit(function(){var this_form=$(this);this_form.ajaxSubmit({success:function(response){if(response.status==='success'){window.location.href=response.url;}}});return false;});});